<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <style>
        *{
            margin:0;
            padding:0;
        }
        body{
            background-color:cornflowerblue;
        }
    </style>
</head>
<body>

</body>
</html>
<script src="../dist/bin.js"></script>
<script>
    console.log(bin)

    function asyncLoadImage(url){
        return new Promise(function(resolve,reject){
            let image = new Image();
            image.onload=function(evt){
                resolve(image);
            }
            image.error=function(evt){
                reject(evt);
            }
            image.src=url;
        });
    }

    asyncLoadImage('test6.png').then(function(image){
        document.body.appendChild(image);

        let texture=new bin.Texture(image);
        let xyData=texture.getPixels(0,0,image.width,image.height);

        let canvas=document.createElement("canvas");
        canvas.width=image.width;
        canvas.height=image.height;
        document.body.appendChild(canvas);

        let ctx = canvas.getContext("2d");
        ctx.fillStyle="#0000ff";
        for(let i=1;i<xyData.length;i++){
            ctx.fillRect(xyData[i].x,xyData[i].y,1,1);
        }
    });
</script>